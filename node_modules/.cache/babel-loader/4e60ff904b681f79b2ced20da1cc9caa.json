{"ast":null,"code":"var _jsxFileName = \"/home/bruno/Documentos/Projetos/Projeto-lessons-learned/sd-026-a-project-frontend-online-store/src/pages/InitialPage.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getCategories } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass InitialPage extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      categories: [],\n      inputText: '',\n      isButtonDisable: true,\n      search: [],\n      isUndefined: true\n    };\n\n    this.onInputChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      }, () => {\n        this.setState({\n          isButtonDisable: false\n        });\n      });\n    };\n\n    this.onButtonClick = async event => {\n      event.preventDefault();\n      const {\n        inputText\n      } = this.state;\n      const {\n        value\n      } = event.target;\n      const validQuery = inputText === '' ? value : inputText;\n      const url = `https://api.mercadolibre.com/sites/MLB/search?q=$${validQuery}`;\n      const dataFetch = await fetch(url);\n      const objJson = await dataFetch.json();\n      const validInput = objJson.results.length === 0;\n      this.setState({\n        search: objJson.results,\n        isUndefined: validInput,\n        inputText: '',\n        isButtonDisable: true\n      });\n    };\n  }\n\n  async componentDidMount() {\n    const categoriesData = await getCategories();\n    this.setState({\n      categories: categoriesData\n    });\n  }\n\n  render() {\n    const {\n      categories,\n      isButtonDisable,\n      inputText,\n      search,\n      isUndefined\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: categories.map(categorie => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [categorie.name, /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              \"data-testid\": \"category\",\n              name: categorie.id,\n              id: categorie.id,\n              value: categorie.id,\n              onClick: this.onButtonClick,\n              children: \"a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 19\n            }, this)]\n          }, categorie.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        \"data-testid\": \"home-initial-message\",\n        htmlFor: \"searchInput\",\n        children: [\"Digite algum termo de pesquisa ou escolha uma categoria.\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"inputText\",\n          id: \"searchInput\",\n          \"data-testid\": \"query-input\",\n          onChange: this.onInputChange,\n          value: inputText,\n          placeholder: \"Procure o seu produto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        \"data-testid\": \"query-button\",\n        disabled: isButtonDisable,\n        onClick: this.onButtonClick,\n        children: \"Pesquisar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), isUndefined ? /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Nenhum produto foi encontrado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 26\n      }, this) : /*#__PURE__*/_jsxDEV(\"ol\", {\n        children: search.map(eachProduct => /*#__PURE__*/_jsxDEV(\"li\", {\n          \"data-testid\": \"product\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: eachProduct.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: eachProduct.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: eachProduct.thumbnail,\n            alt: eachProduct.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `./pageCard/${eachProduct.id}`,\n            \"data-testid\": \"product-detail-link\",\n            params: {\n              name: eachProduct.title,\n              image: eachProduct.thumbnail,\n              price: eachProduct.price\n            },\n            children: \"Datails\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 19\n          }, this)]\n        }, eachProduct.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"shoppingCart\",\n        \"data-testid\": \"shopping-cart-button\",\n        to: \"./ShoppingCart\",\n        children: \"ShoppingCart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default InitialPage;","map":{"version":3,"names":["React","Component","Link","getCategories","InitialPage","state","categories","inputText","isButtonDisable","search","isUndefined","onInputChange","target","name","value","setState","onButtonClick","event","preventDefault","validQuery","url","dataFetch","fetch","objJson","json","validInput","results","length","componentDidMount","categoriesData","render","map","categorie","id","eachProduct","title","price","thumbnail","image"],"sources":["/home/bruno/Documentos/Projetos/Projeto-lessons-learned/sd-026-a-project-frontend-online-store/src/pages/InitialPage.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getCategories } from '../services/api';\n\nclass InitialPage extends Component {\n  state = {\n    categories: [],\n    inputText: '',\n    isButtonDisable: true,\n    search: [],\n    isUndefined: true,\n  };\n\n  async componentDidMount() {\n    const categoriesData = await getCategories();\n    this.setState({ categories: categoriesData });\n  }\n\n  onInputChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({\n      [name]: value,\n    }, () => {\n      this.setState({\n        isButtonDisable: false,\n      });\n    });\n  };\n\n  onButtonClick = async (event) => {\n    event.preventDefault();\n    const { inputText } = this.state;\n    const { value } = event.target;\n    const validQuery = inputText === '' ? value : inputText;\n    const url = `https://api.mercadolibre.com/sites/MLB/search?q=$${validQuery}`;\n    const dataFetch = await fetch(url);\n    const objJson = await dataFetch.json();\n    const validInput = objJson.results.length === 0;\n    this.setState({\n      search: objJson.results,\n      isUndefined: validInput,\n      inputText: '',\n      isButtonDisable: true,\n    });\n  };\n\n  render() {\n    const { categories, isButtonDisable, inputText, search, isUndefined } = this.state;\n    return (\n      <div>\n        <div>\n          <ul>\n            {\n              categories.map((categorie) => (\n                <li key={ categorie.id }>\n                  {categorie.name}\n                  <button\n                    type=\"button\"\n                    data-testid=\"category\"\n                    name={ categorie.id }\n                    id={ categorie.id }\n                    value={ categorie.id }\n                    onClick={ this.onButtonClick }\n                  >\n                    a\n                  </button>\n                </li>\n              ))\n            }\n          </ul>\n        </div>\n        <label\n          data-testid=\"home-initial-message\"\n          htmlFor=\"searchInput\"\n        >\n          Digite algum termo de pesquisa ou escolha uma categoria.\n          <input\n            type=\"text\"\n            name=\"inputText\"\n            id=\"searchInput\"\n            data-testid=\"query-input\"\n            onChange={ this.onInputChange }\n            value={ inputText }\n            placeholder=\"Procure o seu produto\"\n          />\n        </label>\n        <button\n          type=\"button\"\n          data-testid=\"query-button\"\n          disabled={ isButtonDisable }\n          onClick={ this.onButtonClick }\n        >\n          Pesquisar\n        </button>\n        {\n          isUndefined ? (<h4>Nenhum produto foi encontrado</h4>) : (\n            <ol>\n              {search.map((eachProduct) => (\n                <li data-testid=\"product\" key={ eachProduct.id }>\n                  <p>{ eachProduct.title }</p>\n                  <p>{ eachProduct.price }</p>\n                  <img src={ eachProduct.thumbnail } alt={ eachProduct.title } />\n                  <Link\n                    to={ `./pageCard/${eachProduct.id}` }\n                    data-testid=\"product-detail-link\"\n                    params={ { name: eachProduct.title,\n                      image: eachProduct.thumbnail,\n                      price: eachProduct.price } }\n                  >\n                    Datails\n\n                  </Link>\n                </li>\n              ))}\n            </ol>\n          )\n        }\n        <Link\n          className=\"shoppingCart\"\n          data-testid=\"shopping-cart-button\"\n          to=\"./ShoppingCart\"\n        >\n          ShoppingCart\n        </Link>\n      </div>\n    );\n  }\n}\nexport default InitialPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}